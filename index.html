<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>중학교 세계사 퀴즈</title>
    <style>
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        .setting-box {
            background-color: #e8f4fc;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        .select-style {
            padding: 8px 12px;
            border-radius: 5px;
            border: 2px solid #3498db;
            background-color: white;
            font-size: 16px;
            margin-left: 10px;
        }
        .container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 90%;
        }
        h1 {
            color: #3498db;
            text-align: center;
            margin-bottom: 30px;
        }
        .quiz-container {
            display: none;
        }
        .quiz-container.active {
            display: block;
        }
        .start-screen, .result-screen {
            text-align: center;
        }
        .button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #2980b9;
        }
        .options {
            margin-top: 20px;
        }
        .option {
            background-color: #f1f1f1;
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            background-color: #e0e0e0;
        }
        .option.correct {
            background-color: #a8f0c6;
            border-color: #2ecc71;
        }
        .option.incorrect {
            background-color: #f0a8a8;
            border-color: #e74c3c;
        }
        .question-count {
            text-align: right;
            margin-bottom: 20px;
            color: #7f8c8d;
        }
        .progress-bar {
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #3498db;
            width: 0%;
            transition: width 0.5s;
        }
        .feedback {
            margin-top: 15px;
            font-weight: bold;
            min-height: 24px;
        }
        .timer {
            text-align: right;
            color: #7f8c8d;
            margin-bottom: 10px;
        }
        .history-fact {
            background-color: #e8f4fc;
            border-left: 4px solid #3498db;
            padding: 10px 15px;
            margin-top: 20px;
            font-style: italic;
        }
        .explanation {
            margin-top: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: none;
        }
        .result-card {
            background-color: #e8f4fc;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }
        .score {
            font-size: 24px;
            font-weight: bold;
            color: #3498db;
            margin: 10px 0;
        }
        .medal {
            font-size: 50px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>세계사 탐험 퀴즈</h1>
        
        <!-- 시작 화면 -->
        <div class="start-screen" id="startScreen">
            <h2>중학교 2학년 세계사 퀴즈에 오신 것을 환영합니다!</h2>
            <p>이 퀴즈는 고대 문명부터 현대까지의 중요한 세계사 사건들을 다룹니다.</p>
            <p>총 <span id="totalQuestions">10</span>개의 문제가 있으며, 각 문제마다 설명을 볼 수 있습니다.</p>
            
            <div class="setting-box">
                <label for="questionCountSelect">문제 수 선택:</label>
                <select id="questionCountSelect" class="select-style">
                    <option value="10">10문제</option>
                    <option value="20">20문제</option>
                    <option value="30">30문제</option>
                    <option value="50">50문제</option>
                    <option value="100">100문제</option>
                </select>
            </div>
            
            <div class="history-fact">
                <p><strong>알고 계셨나요?</strong> 인류 최초의 문자는 약 5,000년 전 메소포타미아의 수메르인들이 발명한 설형문자입니다.</p>
            </div>
            <button class="button" id="startButton">퀴즈 시작하기</button>
        </div>
        
        <!-- 퀴즈 화면 -->
        <div class="quiz-container" id="quizContainer">
            <div class="timer" id="timer">남은 시간: 20초</div>
            <div class="question-count" id="questionCount">문제 1/10</div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <h2 id="question">질문이 여기에 표시됩니다.</h2>
            <div class="options" id="options">
                <!-- 선택지들이 여기에 동적으로 추가됩니다 -->
            </div>
            <div class="feedback" id="feedback"></div>
            <div class="explanation" id="explanation"></div>
            <button class="button" id="nextButton" style="display: none;">다음 문제</button>
        </div>
        
        <!-- 결과 화면 -->
        <div class="result-screen" id="resultScreen" style="display: none;">
            <h2>퀴즈 완료!</h2>
            <div class="medal" id="medal">🏆</div>
            <div class="score" id="score">점수: 8/10</div>
            <div class="result-card">
                <p id="resultMessage">훌륭합니다! 세계사에 대한 이해가 탁월합니다!</p>
                <div class="history-fact">
                    <p id="finalFact"><strong>알고 계셨나요?</strong> 중세 유럽에서는 약 1,000년 동안 라틴어가 학문과 종교의 공용어로 사용되었습니다.</p>
                </div>
            </div>
            <button class="button" id="restartButton">다시 시작하기</button>
        </div>
    </div>

    <script>
        // 기본 퀴즈 데이터 (파일 로드 실패시 사용)
        const quizData = [
            {
                    "question": "고대 이집트의 피라미드 중 가장 큰 것은 무엇인가요?",
        "options": ["쿠푸왕의 대피라미드", "카프레왕의 피라미드", "멘카우레왕의 피라미드", "조세르왕의 계단식 피라미드"],
        "correct": 0,
        "explanation": "쿠푸(Khufu)왕의 대피라미드는 기자에 위치하며 높이가 약 146미터로, 고대 이집트에서 지어진 피라미드 중 가장 큽니다. 이 피라미드는 약 230만 개의 돌을 사용하여 지어졌습니다."
    },
    {
        "question": "메소포타미아 문명이 발생한 강은?",
        "options": ["나일강", "티그리스-유프라테스강", "인더스강", "황하"],
        "correct": 1,
        "explanation": "메소포타미아 문명은 티그리스강과 유프라테스강 사이의 지역(현재의 이라크)에서 발생했으며, '메소포타미아'라는 이름 자체가 '강 사이의 땅'을 의미합니다."
    },
    {
        "question": "고대 이집트에서 사용된 문자는?",
        "options": ["쐐기문자", "히에로글리프", "갑골문자", "아람문자"],
        "correct": 1,
        "explanation": "히에로글리프는 고대 이집트인들이 사용한 상형문자로, '신성한 조각'이라는 뜻을 가지고 있습니다. 로제타석의 발견으로 번역이 가능해졌습니다."
    },
    {
        "question": "중국 최초의 통일 왕조는?",
        "options": ["주나라", "한나라", "진나라", "당나라"],
        "correct": 2,
        "explanation": "진시황제가 기원전 221년에 세운 진나라는 중국 역사상 최초로 중국을 통일한 왕조입니다. 만리장성 건설과 문자 통일 등 중앙집권적 정책을 펼쳤습니다."
    },
    {
        "question": "함무라비 법전을 만든 바빌로니아의 왕은?",
        "options": ["사르곤", "함무라비", "네부카드네자르", "길가메시"],
        "correct": 1,
        "explanation": "함무라비는 기원전 18세기경 바빌로니아를 통치한 왕으로, 그가 제정한 법전은 '눈에는 눈, 이에는 이'로 알려진 동해형법(同害刑法)을 포함한 고대 법률 체계입니다."
    },
    {
        "question": "고대 그리스의 아테네 민주주의에서 투표권을 가진 사람은?",
        "options": ["모든 시민", "성인 남성 시민", "토지를 소유한 성인 남성", "모든 성인 남성과 여성"],
        "correct": 1,
        "explanation": "아테네 민주주의에서는 오직 성인 남성 시민만이 참정권을 가졌습니다. 여성, 외국인, 노예들은 시민으로 인정받지 못했으며 정치 참여가 배제되었습니다."
    },
    {
        "question": "트로이 전쟁 이야기를 담은 서사시는?",
        "options": ["일리아드", "오디세이", "아에네이드", "신곡"],
        "correct": 0,
        "explanation": "일리아드는 고대 그리스 시인 호메로스가 지은 서사시로, 트로이 전쟁의 마지막 몇 주간을 다룹니다. 특히 아킬레우스와 헥토르 사이의 갈등이 중심 내용입니다."
    },
    {
        "question": "고대 로마의 정치 체제가 왕정에서 공화정으로 바뀐 시기는?",
        "options": ["기원전 753년", "기원전 509년", "기원전 44년", "기원전 27년"],
        "correct": 1,
        "explanation": "로마는 기원전 753년 왕정으로 시작했으나, 기원전 509년 마지막 왕 타르퀴니우스 수페르부스가 추방되면서 공화정으로 전환되었습니다."
    },
    {
        "question": "페르시아 제국을 크게 확장시킨 왕은?",
        "options": ["키루스 대왕", "다리우스 1세", "크세르크세스 1세", "아르타크세르크세스 2세"],
        "correct": 0,
        "explanation": "키루스 대왕(기원전 559-530년)은 페르시아 제국의 창건자로, 메디아, 리디아, 바빌로니아를 정복하며 당시 서아시아 최대 제국을 건설했습니다."
    },
    {
        "question": "고대 인도 최초의 통일 제국은?",
        "options": ["마우리아 제국", "굽타 제국", "쿠샨 제국", "찬드라굽타 제국"],
        "correct": 0,
        "explanation": "마우리아 제국은 기원전 322-185년경 인도 아대륙을 처음으로 통일한 제국으로, 아소카 대왕 시기에 최대 영토를 확보했습니다."
    },
    {
        "question": "알렉산더 대왕이 정복하지 않은 지역은?",
        "options": ["이집트", "페르시아", "인도 북서부", "로마"],
        "correct": 3,
        "explanation": "알렉산더 대왕은 그리스, 소아시아, 이집트, 페르시아, 중앙아시아, 인도 북서부까지 정복했지만, 로마는 당시 지중해 서부의 신흥 세력으로 알렉산더의 정복 대상이 아니었습니다."
    },
    {
        "question": "고대 그리스의 철학자 중 '동굴의 비유'로 알려진 인물은?",
        "options": ["소크라테스", "플라톤", "아리스토텔레스", "에피쿠로스"],
        "correct": 1,
        "explanation": "플라톤은 그의 저서 '국가'에서 '동굴의 비유'를 통해 현실 세계는 이데아(이상적 형태)의 그림자에 불과하다는 그의 철학적 관점을 설명했습니다."
    },
    {
        "question": "로마의 12표법이 제정된 시기는?",
        "options": ["기원전 5세기", "기원전 3세기", "기원전 1세기", "기원후 1세기"],
        "correct": 0,
        "explanation": "로마의 12표법은 기원전 451-450년경 제정된 로마 최초의 성문법으로, 평민들의 요구에 의해 만들어졌습니다."
    },
    {
        "question": "다음 중 카르타고를 멸망시킨 전쟁은?",
        "options": ["제1차 포에니 전쟁", "제2차 포에니 전쟁", "제3차 포에니 전쟁", "펠로폰네소스 전쟁"],
        "correct": 2,
        "explanation": "제3차 포에니 전쟁(기원전 149-146년)에서 로마는 카르타고를 완전히 파괴했으며, 카르타고 시민들을 노예로 삼고 도시를 불태웠습니다."
    },
    {
        "question": "로마 제국의 첫 번째 황제는 누구인가요?",
        "options": ["카이사르(시저)", "아우구스투스", "네로", "클라우디우스"],
        "correct": 1,
        "explanation": "옥타비아누스가 기원전 27년에 '아우구스투스'라는 칭호를 받으며 로마 제국의 첫 번째 황제가 되었습니다. 그는 로마 공화정의 종말과 제국의 시작을 상징합니다."
    },
    
    // 중세 시대 (16-25)
    {
        "question": "서로마 제국이 멸망한 해는?",
        "options": ["395년", "476년", "527년", "1054년"],
        "correct": 1,
        "explanation": "서로마 제국은 476년 게르만족의 일파인 헤룰리족의 지도자 오도아케르에 의해 마지막 황제 로물루스 아우구스툴루스가 폐위되면서 공식적으로 멸망했습니다."
    },
    {
        "question": "비잔틴 제국의 전성기를 이끈 황제는?",
        "options": ["콘스탄티누스 대제", "테오도시우스", "유스티니아누스", "헤라클리우스"],
        "correct": 2,
        "explanation": "유스티니아누스 1세(527-565년 재위)는 비잔틴 제국의 전성기를 이끌었으며, 로마법 대전을 편찬하고 하기아 소피아 성당을 건설했습니다."
    },
    {
        "question": "이슬람교의 창시자는?",
        "options": ["아브라함", "모세", "예수", "무함마드"],
        "correct": 3,
        "explanation": "무함마드(570-632년)는 이슬람교의 창시자로, 메카에서 태어났으며 40세 때 천사 가브리엘을 통해 알라의 계시를 받았다고 전해집니다."
    },
    {
        "question": "다음 중 실크로드의 주요 교역품이 아닌 것은?",
        "options": ["비단", "향신료", "도자기", "토마토"],
        "correct": 3,
        "explanation": "토마토는 아메리카 대륙 원산지로, 15세기 말 콜럼버스의 신대륙 발견 이후에야 유럽과 아시아에 소개되었습니다. 실크로드의 주요 교역품은 비단, 향신료, 보석, 유리, 도자기 등이었습니다."
    },
    {
        "question": "프랑크 왕국을 크게 확장시키고 서로마 제국 황제로 대관된 인물은?",
        "options": ["클로비스", "카를 마르텔", "피핀", "샤를마뉴"],
        "correct": 3,
        "explanation": "샤를마뉴(카롤루스 대제, 742-814년)는 프랑크 왕국을 크게 확장시켰으며, 800년 크리스마스에 교황 레오 3세에 의해 서로마 제국 황제로 대관되었습니다."
    },
    {
        "question": "중세 유럽의 봉건제에서 봉신이 군주에게 바치는 서약은?",
        "options": ["서임식", "충성 서약", "봉토 서약", "기사 서약"],
        "correct": 1,
        "explanation": "중세 봉건제에서 봉신(vassal)은 군주(lord)에게 충성 서약(oath of fealty)을 바치고, 군사적 봉사를 약속하는 대가로 봉토(fief)를 받았습니다."
    },
    {
        "question": "노르만 정복으로 영국을 차지한 왕은?",
        "options": ["윌리엄 1세(정복자)", "헨리 2세", "리처드 1세(사자심장왕)", "존(무토지왕)"],
        "correct": 0,
        "explanation": "윌리엄 1세(정복자)는 1066년 헤이스팅스 전투에서 영국군을 격파하고 영국을 정복했으며, 이를 노르만 정복이라고 합니다."
    },
    {
        "question": "중세 유럽에서 흑사병(페스트)이 대유행한 시기는?",
        "options": ["12세기", "14세기", "16세기", "18세기"],
        "correct": 1,
        "explanation": "흑사병은 14세기 중반(1347-1351년)에 유럽 인구의 약 1/3을 사망하게 한 대유행병이었습니다. 이는 유럽의 사회, 경제, 종교적 구조에 큰 변화를 가져왔습니다."
    },
    {
        "question": "중세 유럽의 대학 중 가장 오래된 것은?",
        "options": ["파리 대학", "옥스퍼드 대학", "볼로냐 대학", "케임브리지 대학"],
        "correct": 2,
        "explanation": "볼로냐 대학은 1088년에 설립되어 서구 세계에서 가장 오래된 대학으로 인정받고 있으며, 특히 법학 연구로 유명했습니다."
    },
    {
        "question": "십자군 전쟁의 시작을 선언한 교황은?",
        "options": ["그레고리우스 7세", "우르바누스 2세", "인노켄티우스 3세", "보니파키우스 8세"],
        "correct": 1,
        "explanation": "교황 우르바누스 2세는 1095년 클레르몽 공의회에서 성지 예루살렘을 이슬람으로부터 탈환하자는 연설을 통해 제1차 십자군 전쟁을 선언했습니다."
    }
]
[
    // 중세 시대 추가 문제 (26-30)
    {
        "question": "다음 중 몽골 제국을 세운 사람은?",
        "options": ["쿠빌라이 칸", "칭기즈 칸", "티무르", "훌라구"],
        "correct": 1,
        "explanation": "칭기즈 칸(1162-1227)은 몽골 부족들을 통일하고 1206년에 몽골 제국을 건설했습니다. 그의 제국은 역사상 가장 넓은 영토를 지배한 연속적인 제국 중 하나가 되었습니다."
    },
    {
        "question": "중세 유럽에서 왕권신수설을 주장한 사상가는?",
        "options": ["토마스 아퀴나스", "자크 보쉬에", "마키아벨리", "토마스 홉스"],
        "correct": 1,
        "explanation": "프랑스의 주교 자크 보쉬에(1627-1704)는 왕권신수설을 체계화하여, 왕의 권력은 신으로부터 직접 부여받은 것이므로 절대적이라고 주장했습니다."
    },
    {
        "question": "중세 일본의 무사 계급은?",
        "options": ["사무라이", "쇼군", "다이묘", "닌자"],
        "correct": 0,
        "explanation": "사무라이는 중세 일본의 무사 계급으로, 봉건 영주(다이묘)를 섬기며 무사도라는 윤리 체계를 따랐습니다."
    },
    {
        "question": "마그나 카르타가 체결된 해는?",
        "options": ["1066년", "1215년", "1453년", "1492년"],
        "correct": 1,
        "explanation": "마그나 카르타(대헌장)는 1215년 영국의 존 왕이 귀족들의 압력에 의해 서명한 문서로, 왕의 권력을 제한하고 귀족의 권리를 보장하는 내용을 담고 있습니다."
    },
    {
        "question": "동서 교회의 분열(대분열)이 일어난 해는?",
        "options": ["800년", "1054년", "1204년", "1453년"],
        "correct": 1,
        "explanation": "1054년 로마 교회와 콘스탄티노플 교회 사이의 교리적, 정치적 갈등으로 인해 동서 교회의 분열(대분열)이 발생했습니다."
    },
    
    // 근세 시대 (31-50)
    {
        "question": "콘스탄티노플(현 이스탄불)이 오스만 제국에 의해 정복된 해는?",
        "options": ["1204년", "1453년", "1492년", "1517년"],
        "correct": 1,
        "explanation": "1453년 오스만 제국의 메흐메트 2세는 콘스탄티노플을 정복하여 비잔틴 제국을 멸망시켰으며, 이는 중세의 종말과 근세의 시작을 상징하는 사건으로 여겨집니다."
    },
    {
        "question": "르네상스가 시작된 이탈리아의 도시는?",
        "options": ["로마", "베네치아", "피렌체", "나폴리"],
        "correct": 2,
        "explanation": "르네상스는 14세기 피렌체에서 시작되었습니다. 이 도시는 메디치 가문의 후원 아래 레오나르도 다빈치, 미켈란젤로와 같은 위대한 예술가들이 활동했던 문화의 중심지였습니다."
    },
    {
        "question": "다음 중 르네상스 시대의 인문주의자는?",
        "options": ["토마스 아퀴나스", "에라스무스", "마르틴 루터", "존 칼뱅"],
        "correct": 1,
        "explanation": "데시데리우스 에라스무스(1466-1536)는 네덜란드 출신의 르네상스 인문주의자로, '우신예찬'을 저술하고 그리스어 신약성서를 편찬했습니다."
    },
    {
        "question": "종교개혁의 시작을 알린 마르틴 루터의 95개조 반박문이 게시된 해는?",
        "options": ["1492년", "1517년", "1555년", "1618년"],
        "correct": 1,
        "explanation": "마르틴 루터는 1517년 10월 31일 비텐베르크 성당 문에 면죄부 판매를 비판하는 95개조 반박문을 게시했으며, 이는 종교개혁의 시작으로 간주됩니다."
    },
    {
        "question": "신대륙을 발견한 탐험가는?",
        "options": ["크리스토퍼 콜럼버스", "바스코 다 가마", "페르디난드 마젤란", "에르난 코르테스"],
        "correct": 0,
        "explanation": "크리스토퍼 콜럼버스는 1492년 스페인의 후원을 받아 서인도 제도(카리브해)에 도착했으며, 이는 유럽인의 아메리카 대륙 발견으로 인정받고 있습니다."
    },
    {
        "question": "인도로 가는 해상 루트를 발견한 탐험가는?",
        "options": ["크리스토퍼 콜럼버스", "바스코 다 가마", "페르디난드 마젤란", "에르난 코르테스"],
        "correct": 1,
        "explanation": "포르투갈의 바스코 다 가마는 1498년 아프리카 남단의 희망봉을 돌아 인도의 캘리컷에 도착함으로써 유럽과 인도를 연결하는 해상 루트를 개척했습니다."
    },
    {
        "question": "세계 일주에 성공한 최초의 탐험대를 이끈 인물은?",
        "options": ["크리스토퍼 콜럼버스", "바스코 다 가마", "페르디난드 마젤란", "제임스 쿡"],
        "correct": 2,
        "explanation": "페르디난드 마젤란이 이끈 탐험대는 1519년 출발하여 1522년에 세계 일주에 성공했습니다. 비록 마젤란 자신은 필리핀에서 사망했지만, 그의 탐험대는 최초로 세계 일주를 완료했습니다."
    },
    {
        "question": "에스파냐가 아즈텍 제국을 정복한 정복자는?",
        "options": ["크리스토퍼 콜럼버스", "바스코 다 가마", "에르난 코르테스", "프란시스코 피사로"],
        "correct": 2,
        "explanation": "에르난 코르테스는 1519-1521년 에스파냐 원정대를 이끌고 아즈텍 제국을 정복했으며, 이는 현대 멕시코의 대부분을 에스파냐 제국에 편입시키는 계기가 되었습니다."
    },
    {
        "question": "잉카 제국을 정복한 에스파냐 정복자는?",
        "options": ["에르난 코르테스", "프란시스코 피사로", "바스코 누녜스 데 발보아", "페드로 데 알바라도"],
        "correct": 1,
        "explanation": "프란시스코 피사로는 1532-1533년 소수의 에스파냐 군대를 이끌고 잉카 제국을 정복했으며, 이로써 현재의 페루와 주변 지역이 에스파냐 제국의 일부가 되었습니다."
    },
    {
        "question": "독일에서 시작된 30년 전쟁의 발발 연도는?",
        "options": ["1517년", "1555년", "1618년", "1648년"],
        "correct": 2,
        "explanation": "30년 전쟁은 1618년 보헤미아의 프라하에서 시작되어 1648년 베스트팔렌 조약으로 종결되었으며, 유럽의 종교적, 정치적 갈등이 복합적으로 얽힌 대규모 전쟁이었습니다."
    },
    {
        "question": "영국의 청교도 혁명을 이끈 인물은?",
        "options": ["올리버 크롬웰", "찰스 1세", "제임스 1세", "윌리엄 3세"],
        "correct": 0,
        "explanation": "올리버 크롬웰은 영국 내전(1642-1651) 동안 의회파 군대를 이끌었으며, 찰스 1세의 처형 후 영국 연방의 호국경(Lord Protector)으로 통치했습니다."
    },
    {
        "question": "영국 명예혁명이 일어난 해는?",
        "options": ["1649년", "1660년", "1688년", "1707년"],
        "correct": 2,
        "explanation": "1688년 영국의 명예혁명으로 카톨릭 국왕 제임스 2세가 추방되고, 그의 신교도 딸 메리와 그녀의 남편 윌리엄이 공동 통치자로 즉위했습니다."
    },
    {
        "question": "프랑스의 태양왕으로 알려진 인물은?",
        "options": ["루이 13세", "루이 14세", "루이 15세", "루이 16세"],
        "correct": 1,
        "explanation": "루이 14세(재위 1643-1715)는 '태양왕'으로 알려진 프랑스의 절대군주로, 베르사유 궁전을 건설하고 '짐이 곧 국가다(L'état, c'est moi)'라는 말로 유명합니다."
    },
    {
        "question": "미국 독립선언문이 채택된 해는?",
        "options": ["1773년", "1774년", "1776년", "1783년"],
        "correct": 2,
        "explanation": "미국 독립선언문은 1776년 7월 4일 제2차 대륙회의에서 채택되었으며, 토머스 제퍼슨이 주로 작성했습니다."
    },
    {
        "question": "프랑스 혁명이 시작된 해는?",
        "options": ["1776년", "1789년", "1804년", "1815년"],
        "correct": 1,
        "explanation": "프랑스 혁명은 1789년 7월 14일 바스티유 감옥 습격으로 시작되었습니다. 이 혁명은 프랑스의 절대왕정을 무너뜨리고 '자유, 평등, 박애'의 이념을 퍼뜨렸습니다."
    },
    {
        "question": "프랑스 혁명 시기 공포정치를 주도한 인물은?",
        "options": ["나폴레옹 보나파르트", "로베스피에르", "루이 16세", "미라보"],
        "correct": 1,
        "explanation": "막시밀리앙 로베스피에르는 프랑스 혁명 시기 자코뱅당을 이끌며 1793-1794년 공포정치를 주도했습니다. 그러나 결국 자신도 기요틴으로 처형되었습니다."
    },
    {
        "question": "나폴레옹의 대륙 봉쇄령의 주요 대상국은?",
        "options": ["러시아", "오스트리아", "프로이센", "영국"],
        "correct": 3,
        "explanation": "나폴레옹은 1806년 베를린 칙령을 통해 영국과의 모든 무역을 금지하는 대륙 봉쇄령을 선포했습니다. 이는 해상 강국 영국의 경제를 약화시키기 위한 전략이었습니다."
    },
    {
        "question": "산업혁명 초기에 면직물 산업이 크게 발전한 영국 도시는?",
        "options": ["런던", "맨체스터", "리버풀", "에든버러"],
        "correct": 1,
        "explanation": "맨체스터는 산업혁명 초기에 면직물 산업의 중심지로 발전했으며, '코튼오폴리스(면의 도시)'라는 별명을 얻었습니다."
    },
    {
        "question": "유럽의 자유주의 혁명이 여러 국가에서 일어난 해는?",
        "options": ["1815년", "1830년", "1848년", "1871년"],
        "correct": 2,
        "explanation": "1848년은 '국민의 봄'이라고 불리는 시기로, 프랑스, 독일, 오스트리아, 이탈리아 등 유럽 여러 국가에서 자유주의 혁명이 일어났습니다."
    },
    {
        "question": "이탈리아 통일 운동(리소르지멘토)의 핵심 지도자는?",
        "options": ["메테르니히", "카보우르", "비스마르크", "가리발디"],
        "correct": 1,
        "explanation": "카밀로 벤소 디 카보우르는 사르데냐-피에몬테 왕국의 총리로서 이탈리아 통일 운동을 주도했으며, 외교적 수단을 통해 북부 이탈리아의 통일을 이끌었습니다."
    }
]
[
    // 근대 시대 (51-60)
    {
        "question": "프랑스 혁명 이후 등장한 독재자 나폴레옹이 황제로 즉위한 해는?",
        "options": ["1789년", "1799년", "1804년", "1812년"],
        "correct": 2,
        "explanation": "나폴레옹 보나파르트는 1799년 쿠데타로 정권을 장악한 후, 1804년 12월 2일 자신을 프랑스의 황제로 대관했습니다."
    },
    {
        "question": "나폴레옹이 최종적으로 패배한 전투는?",
        "options": ["아우스터리츠 전투", "트라팔가 해전", "라이프치히 전투", "워털루 전투"],
        "correct": 3,
        "explanation": "나폴레옹은 1815년 6월 18일 벨기에 워털루에서 웰링턴 공작이 이끄는 영국군과 블뤼허가 이끄는 프로이센군에게 결정적인 패배를 당했습니다."
    },
    {
        "question": "1815년 나폴레옹 전쟁 후 유럽의 질서를 재편한 회의는?",
        "options": ["베르사유 회의", "얄타 회의", "포츠담 회의", "비엔나 회의"],
        "correct": 3,
        "explanation": "1814-1815년 비엔나 회의는 나폴레옹 전쟁 이후 유럽의 질서를 재편하기 위해 열렸으며, 유럽의 주요 강대국들이 참여했습니다."
    },
    {
        "question": "다음 중 산업혁명이 가장 먼저 시작된 국가는?",
        "options": ["프랑스", "독일", "영국", "미국"],
        "correct": 2,
        "explanation": "산업혁명은 18세기 중반부터 영국에서 시작되었습니다. 증기기관의 발명과 직물 산업의 기계화가 산업혁명의 초기 특징이었습니다."
    },
    {
        "question": "증기기관을 개량하여 산업혁명에 크게 기여한 인물은?",
        "options": ["토머스 뉴커먼", "제임스 와트", "리처드 아크라이트", "새뮤얼 크롬프턴"],
        "correct": 1,
        "explanation": "제임스 와트는 1769년 토머스 뉴커먼의 증기기관을 크게 개량하여 효율성을 높였으며, 이는 산업혁명의 발전에 결정적인 역할을 했습니다."
    },
    {
        "question": "카를 마르크스와 프리드리히 엥겔스가 공동으로 저술한 책은?",
        "options": ["자본론", "공산당 선언", "가족, 사유재산, 국가의 기원", "독일 이데올로기"],
        "correct": 1,
        "explanation": "공산당 선언은 1848년 카를 마르크스와 프리드리히 엥겔스가 공동으로 저술한 정치적 팸플릿으로, 공산주의 이론의 핵심 원칙을 담고 있습니다."
    },
    {
        "question": "라틴 아메리카 독립운동을 이끈 '해방자' 시몬 볼리바르가 해방한 국가는?",
        "options": ["멕시코", "브라질", "아르헨티나", "베네수엘라"],
        "correct": 3,
        "explanation": "시몬 볼리바르는 베네수엘라, 콜롬비아, 에콰도르, 페루, 볼리비아 등 남아메리카 여러 국가의 독립을 이끌었으며, '해방자(El Libertador)'로 불립니다."
    },
    {
        "question": "독일 통일을 이끈 '철혈 재상'은?",
        "options": ["비스마르크", "빌헬름 1세", "프리드리히 빌헬름 4세", "몰트케"],
        "correct": 0,
        "explanation": "오토 폰 비스마르크는 프로이센의 총리로서 '철혈 정책'을 통해 1871년 독일 제국의 통일을 이끌었으며, '철혈 재상'으로 알려져 있습니다."
    },
    {
        "question": "메이지 유신이 일어난 국가는?",
        "options": ["중국", "일본", "한국", "베트남"],
        "correct": 1,
        "explanation": "메이지 유신(1868)은 일본에서 도쿠가와 막부 체제를 종식시키고 천황 중심의 중앙집권적 근대 국가를 수립하려는 개혁 운동이었습니다."
    },
    {
        "question": "청일전쟁이 일어난 해는?",
        "options": ["1894년", "1904년", "1914년", "1937년"],
        "correct": 0,
        "explanation": "청일전쟁은 1894-1895년 조선 반도의 영향력을 둘러싸고 청나라와 일본 사이에 벌어진 전쟁으로, 일본의 승리로 끝났습니다."
    },
    
    // 근현대 시대 (61-75)
    {
        "question": "영국의 빅토리아 여왕의 재위 기간은?",
        "options": ["1801-1820년", "1837-1901년", "1901-1910년", "1910-1936년"],
        "correct": 1,
        "explanation": "빅토리아 여왕은 1837년부터 1901년까지 64년간 영국을 통치했으며, 이 기간은 '빅토리아 시대'로 불리는 영국 제국의 전성기였습니다."
    },
    {
        "question": "러일전쟁이 종결된 조약은?",
        "options": ["베르사유 조약", "포츠머스 조약", "브레스트-리토프스크 조약", "베르사유 조약"],
        "correct": 1,
        "explanation": "1904-1905년 러일전쟁은 미국 대통령 시어도어 루즈벨트의 중재로 1905년 포츠머스 조약을 통해 종결되었습니다."
    },
    {
        "question": "제1차 세계대전 이전 유럽의 주요 동맹은?",
        "options": ["삼국 동맹과 삼국 협상", "바르샤바 조약기구와 나토", "대륙 동맹과 대륙 봉쇄", "추축국과 연합국"],
        "correct": 0,
        "explanation": "제1차 세계대전 이전 유럽은 독일, 오스트리아-헝가리, 이탈리아의 삼국 동맹과 영국, 프랑스, 러시아의 삼국 협상으로 분열되어 있었습니다."
    },
    {
        "question": "제1차 세계대전의 직접적인 원인이 된 사건은?",
        "options": ["러시아 혁명", "프란츠 페르디난트 대공 암살", "베르사유 조약 체결", "독일의 폴란드 침공"],
        "correct": 1,
        "explanation": "1914년 6월 28일, 오스트리아-헝가리 제국의 황태자 프란츠 페르디난트가 사라예보에서 암살당한 사건이 제1차 세계대전의 직접적인 계기가 되었습니다."
    },
    {
        "question": "제1차 세계대전이 종결된 해는?",
        "options": ["1917년", "1918년", "1919년", "1920년"],
        "correct": 1,
        "explanation": "제1차 세계대전은 1918년 11월 11일 독일이 연합국과 휴전 협정을 체결함으로써 공식적으로 종결되었습니다."
    },
    {
        "question": "러시아 혁명이 일어난 해는?",
        "options": ["1905년", "1914년", "1917년", "1922년"],
        "correct": 2,
        "explanation": "러시아 혁명은 1917년에 일어났으며, 2월 혁명으로 짜르 체제가 무너지고 10월 혁명으로 볼셰비키가 권력을 장악했습니다."
    },
    {
        "question": "제1차 세계대전 후 독일에 가혹한 배상금을 부과한 조약은?",
        "options": ["로카르노 조약", "베르사유 조약", "라팔로 조약", "브레스트-리토프스크 조약"],
        "correct": 1,
        "explanation": "1919년 베르사유 조약은 제1차 세계대전의 패전국 독일에게 막대한 배상금과 영토 상실, 군비 축소 등의 가혹한 조건을 부과했습니다."
    },
    {
        "question": "1929년 미국에서 시작된 경제 위기는?",
        "options": ["대공황", "오일쇼크", "서브프라임 모기지 위기", "브레턴우즈 체제의 붕괴"],
        "correct": 0,
        "explanation": "1929년 10월 뉴욕 증시의 붕괴로 시작된 대공황은 세계적인 경제 위기로 발전했으며, 1930년대 내내 지속되었습니다."
    },
    {
        "question": "이탈리아에서 파시즘 정권을 수립한 인물은?",
        "options": ["히틀러", "무솔리니", "프랑코", "살라자르"],
        "correct": 1,
        "explanation": "베니토 무솔리니는 1922년 '로마 진군' 이후 이탈리아의 독재자가 되었으며, 파시스트 정당을 이끌고 파시즘 체제를 구축했습니다."
    },
    {
        "question": "나치 독일이 폴란드를 침공하여 제2차 세계대전이 시작된 날짜는?",
        "options": ["1938년 9월 30일", "1939년 9월 1일", "1940년 6월 22일", "1941년 12월 7일"],
        "correct": 1,
        "explanation": "제2차 세계대전은 1939년 9월 1일 나치 독일이 폴란드를 침공하면서 시작되었으며, 이틀 후 영국과 프랑스가 독일에 선전포고했습니다."
    },
    {
        "question": "진주만 공습이 일어난 날짜는?",
        "options": ["1939년 9월 1일", "1940년 6월 10일", "1941년 6월 22일", "1941년 12월 7일"],
        "correct": 3,
        "explanation": "1941년 12월 7일 일본은 하와이 진주만의 미국 해군 기지를 기습 공격했으며, 이로 인해 미국이 일본에 선전포고하고 제2차 세계대전에 참전하게 되었습니다."
    },
    {
        "question": "제2차 세계대전 중 연합국의 노르망디 상륙작전이 실행된 해는?",
        "options": ["1942년", "1943년", "1944년", "1945년"],
        "correct": 2,
        "explanation": "노르망디 상륙작전(D-Day)은 1944년 6월 6일 연합군이 나치 독일이 점령한 프랑스 북부에 대규모로 상륙한 작전으로, 유럽 전선의 전환점이 되었습니다."
    },
    {
        "question": "히로시마에 원자폭탄이 투하된 날짜는?",
        "options": ["1944년 6월 6일", "1945년 8월 6일", "1945년 8월 9일", "1945년 9월 2일"],
        "correct": 1,
        "explanation": "1945년 8월 6일 미국은 일본의 히로시마에 '리틀 보이'라는 코드명의 원자폭탄을 투하했으며, 이는 전쟁에서 사용된 최초의 원자폭탄이었습니다."
    },
    {
        "question": "제2차 세계대전이 공식적으로 종결된 날짜는?",
        "options": ["1945년 5월 8일", "1945년 8월 15일", "1945년 9월 2일", "1946년 10월 24일"],
        "correct": 2,
        "explanation": "제2차 세계대전은 1945년 9월 2일 일본이 미국 전함 미주리호에서 항복 문서에 서명함으로써 공식적으로 종결되었습니다."
    }
    [
    {
        "question": "국제 연합(UN)이 설립된 해는?",
        "options": ["1919년", "1945년", "1949년", "1955년"],
        "correct": 1,
        "explanation": "국제 연합은 1945년 10월 24일 51개 창립국으로 설립되었으며, 제2차 세계대전 이후 국제 평화와 안보를 유지하기 위한 목적으로 만들어졌습니다."
    },
    {
        "question": "냉전 시대에 대립했던 두 강대국은?",
        "options": ["영국과 프랑스", "미국과 소련", "중국과 일본", "독일과 러시아"],
        "correct": 1,
        "explanation": "냉전은 제2차 세계대전 이후부터 1991년 소련 붕괴까지 미국이 이끄는 서방 자본주의 진영과 소련이 이끄는 공산주의 진영 사이의 정치적, 이념적 대립 기간을 말합니다."
    },
    {
        "question": "중국 공산당이 중화인민공화국을 수립한 해는?",
        "options": ["1945년", "1949년", "1953년", "1959년"],
        "correct": 1,
        "explanation": "마오쩌둥이 이끄는 중국 공산당은 1949년 10월 1일 중화인민공화국의 수립을 선포했으며, 이는 국민당과의 내전에서 승리한 후였습니다."
    },
    {
        "question": "쿠바 미사일 위기가 발생한 해는?",
        "options": ["1959년", "1961년", "1962년", "1963년"],
        "correct": 2,
        "explanation": "쿠바 미사일 위기는 1962년 10월, 소련이 쿠바에 핵미사일을 배치하려 하면서 미국과 소련 사이에 발생한 냉전 시대 최대의 위기였습니다."
    },
    {
        "question": "베트남 전쟁이 종결된 해는?",
        "options": ["1968년", "1973년", "1975년", "1979년"],
        "correct": 2,
        "explanation": "베트남 전쟁은 1975년 4월 30일 사이공(현 호치민시)이 북베트남군에 의해 점령되면서 종결되었으며, 이로써 베트남은 공산주의 국가로 통일되었습니다."
    },
    {
        "question": "이란 이슬람 혁명이 일어난 해는?",
        "options": ["1973년", "1979년", "1980년", "1991년"],
        "correct": 1,
        "explanation": "이란 이슬람 혁명은 1979년 파흘라비 왕조의 모하마드 레자 팔레비 국왕을 몰아내고 아야톨라 호메이니가 이끄는 이슬람 공화국을 수립한 혁명입니다."
    },
    {
        "question": "베를린 장벽이 무너진 해는?",
        "options": ["1987년", "1989년", "1990년", "1991년"],
        "correct": 1,
        "explanation": "베를린 장벽은 1989년 11월 9일 무너졌으며, 이는 냉전의 종말과 동유럽 공산주의 체제의 붕괴를 상징하는 역사적 사건이었습니다."
    },
    {
        "question": "소련이 공식적으로 해체된 날짜는?",
        "options": ["1989년 11월 9일", "1990년 10월 3일", "1991년 8월 19일", "1991년 12월 26일"],
        "correct": 3,
        "explanation": "소련은 1991년 12월 26일 공식적으로 해체되었으며, 이로써 냉전이 종결되고 15개의 독립국가가 탄생했습니다."
    },
    {
        "question": "넬슨 만델라가 남아프리카 공화국의 대통령이 된 해는?",
        "options": ["1990년", "1994년", "1999년", "2003년"],
        "correct": 1,
        "explanation": "넬슨 만델라는 1994년 남아프리카 공화국의 첫 흑인 대통령으로 선출되었으며, 이는 아파르트헤이트(인종 분리 정책) 종식 후 첫 민주 선거의 결과였습니다."
    },
    {
        "question": "유럽 연합(EU)이 공식 출범한 해는?",
        "options": ["1957년", "1992년", "1993년", "2002년"],
        "correct": 2,
        "explanation": "유럽 연합은 1992년 마스트리히트 조약에 의해 창설되어 1993년 11월 1일 공식 출범했습니다."
    }
]
[
    {
        "question": "9/11 테러가 발생한 해는?",
        "options": ["1998년", "2001년", "2003년", "2007년"],
        "correct": 1,
        "explanation": "9/11 테러는 2001년 9월 11일 알카에다에 의해 미국 뉴욕의 세계무역센터와 워싱턴 D.C.의 펜타곤을 대상으로 한 대규모 테러 공격을 말합니다."
    },
    {
        "question": "이라크 전쟁이 시작된 해는?",
        "options": ["2001년", "2003년", "2005년", "2008년"],
        "correct": 1,
        "explanation": "이라크 전쟁은 2003년 3월 20일 미국이 이끄는 연합군의 이라크 침공으로 시작되었으며, 사담 후세인 정권의 붕괴로 이어졌습니다."
    },
    {
        "question": "아랍의 봄이 시작된 해는?",
        "options": ["2008년", "2010년", "2012년", "2014년"],
        "correct": 1,
        "explanation": "아랍의 봄은 2010년 12월 튀니지에서 시작되어 중동과 북아프리카 여러 국가로 확산된 민주화 운동을 말합니다."
    },
    {
        "question": "시리아 내전이 시작된 해는?",
        "options": ["2010년", "2011년", "2013년", "2015년"],
        "correct": 1,
        "explanation": "시리아 내전은 2011년 3월 아랍의 봄의 영향으로 바샤르 알아사드 정권에 대한 시위가 무력 충돌로 발전하면서 시작되었습니다."
    },
    {
        "question": "브렉시트(영국의 EU 탈퇴) 국민투표가 실시된 해는?",
        "options": ["2015년", "2016년", "2017년", "2019년"],
        "correct": 1,
        "explanation": "브렉시트 국민투표는 2016년 6월 23일 실시되었으며, 영국 유권자의 51.9%가 유럽 연합 탈퇴에 찬성했습니다."
    },
    {
        "question": "다음 중 UN 안전보장이사회의 상임이사국이 아닌 국가는?",
        "options": ["중국", "프랑스", "러시아", "독일"],
        "correct": 3,
        "explanation": "UN 안전보장이사회의 5개 상임이사국은 미국, 영국, 프랑스, 러시아, 중국입니다. 독일은 상임이사국이 아닙니다."
    },
    {
        "question": "1차 세계대전 당시 독일, 오스트리아-헝가리, 오스만 제국이 속한 동맹은?",
        "options": ["삼국 협상", "삼국 동맹", "중앙 동맹국", "추축국"],
        "correct": 2,
        "explanation": "1차 세계대전 당시 독일, 오스트리아-헝가리, 오스만 제국은 중앙 동맹국(Central Powers)에 속했습니다."
    },
    {
        "question": "2차 세계대전 당시 독일, 이탈리아, 일본이 속한 동맹은?",
        "options": ["삼국 협상", "삼국 동맹", "중앙 동맹국", "추축국"],
        "correct": 3,
        "explanation": "2차 세계대전 당시 독일, 이탈리아, 일본은 추축국(Axis Powers)으로 불렸습니다."
    },
    {
        "question": "다음 중 신석기 혁명의 특징이 아닌 것은?",
        "options": ["농경의 시작", "가축 사육", "정착 생활", "철기 제작"],
        "correct": 3,
        "explanation": "철기 제작은 철기 시대의 특징으로, 신석기 혁명과는 관련이 없습니다. 신석기 혁명은 농경과 가축 사육, 정착 생활의 시작을 특징으로 합니다."
    },
    {
        "question": "다음 중 계몽주의 사상가가 아닌 인물은?",
        "options": ["볼테르", "루소", "몽테스키외", "아퀴나스"],
        "correct": 3,
        "explanation": "토마스 아퀴나스는 13세기 중세 스콜라 철학의 대표적 인물로, 18세기 계몽주의 시대의 사상가가 아닙니다."
    }
]
[
    {
        "question": "다음 중 냉전 시대에 결성된 군사 동맹이 아닌 것은?",
        "options": ["나토(NATO)", "바르샤바 조약기구", "동남아시아 조약기구(SEATO)", "삼국 동맹"],
        "correct": 3,
        "explanation": "삼국 동맹은 1882년 독일, 오스트리아-헝가리, 이탈리아 사이에 형성된 동맹으로, 냉전 시대(1945-1991)와는 관련이 없습니다."
    },
    {
        "question": "다음 중 제국주의 시대에 식민지를 가장 많이 보유한 국가는?",
        "options": ["프랑스", "영국", "독일", "이탈리아"],
        "correct": 1,
        "explanation": "19세기 말~20세기 초 제국주의 시대에 영국은 '해가 지지 않는 제국'이라고 불릴 정도로 전 세계에 걸쳐 가장 광범위한 식민지를 보유했습니다."
    },
    {
        "question": "다음 중 산업혁명의 결과가 아닌 것은?",
        "options": ["도시화", "노동 운동의 발생", "중산층의 성장", "농업 생산성의 감소"],
        "correct": 3,
        "explanation": "산업혁명은 농업 생산성을 감소시키지 않고 오히려 농업 기술의 발전으로 생산성이 증가했습니다. 농업혁명은 산업혁명의 중요한 전제 조건이었습니다."
    },
    {
        "question": "다음 중 르네상스 시대의 예술가가 아닌 인물은?",
        "options": ["레오나르도 다빈치", "미켈란젤로", "라파엘로", "클로드 모네"],
        "correct": 3,
        "explanation": "클로드 모네는 19세기 프랑스의 인상주의 화가로, 14-17세기 르네상스 시대의 예술가가 아닙니다."
    },
    {
        "question": "다음 중 '오리엔탈리즘'의 개념을 비판적으로 분석한 학자는?",
        "options": ["에드워드 사이드", "새뮤얼 헌팅턴", "프랜시스 후쿠야마", "노암 촘스키"],
        "correct": 0,
        "explanation": "에드워드 사이드는 1978년 출판된 '오리엔탈리즘'에서 서구가 동양을 타자화하고 왜곡하여 표현한 방식을 비판적으로 분석했습니다."
    }
];
        
        // 전체 퀴즈 데이터
        let allQuizData = [];
        
        // 사용할 문제 개수 (사용자 설정 가능)
        let questionCount = 10;
        
        // 시작 버튼 이벤트
        startButton.addEventListener('click', async () => {
            try {
                // 문제 데이터 로드
                allQuizData = await loadQuizData();
                
                // 로드 실패시 기본 데이터 사용
                if (allQuizData.length === 0) {
                    allQuizData = quizData;
                }
                
                // 문제 수 업데이트
                document.getElementById('totalQuestions').textContent = questionCount;
                
                // 전체 문제에서 랜덤하게 선택
                startQuiz();
            } catch (error) {
                console.error("퀴즈 시작 오류:", error);
                alert("퀴즈 데이터를 불러오는 중 오류가 발생했습니다. 다시 시도해주세요.");
            }
        });

        // 다음 버튼 이벤트
        nextButton.addEventListener('click', () => {
            clearInterval(timer);
            currentQuestion++;
            
            if (currentQuestion < questionCount) {
                showQuestion();
            } else {
                showResults();
            }
        });

        // 다시 시작 버튼 이벤트
        restartButton.addEventListener('click', () => {
            currentQuestion = 0;
            score = 0;
            resultScreen.style.display = 'none';
            startScreen.style.display = 'block';
        });
        
        // 문제 수 설정 이벤트
        document.getElementById('questionCountSelect').addEventListener('change', function() {
            questionCount = parseInt(this.value);
            document.getElementById('totalQuestions').textContent = questionCount;
        });

        // 문제 데이터 로드 함수
        async function loadQuizData() {
            return allQuizData;
        }           
            
            // 모든 퀴즈 데이터를 저장할 배열
            let allQuizData = [];
            
            // 각 파일 로드 및 데이터 합치기
            for (const file of quizFiles) {
                try {
                    // 파일 동적 로드
                    const response = await fetch(file);
                    if (!response.ok) {
                        throw new Error(`파일 로드 실패: ${file}`);
                    }
                    const text = await response.text();
                    
                    // eval 없이 JSON 파싱 (파일은 JSON 형식으로 저장됨)
                    const fileData = JSON.parse(text);
                    allQuizData = allQuizData.concat(fileData);
                } catch (error) {
                    console.error(`퀴즈 데이터 로드 오류: ${error.message}`);
                }
            }
            
            return allQuizData;
        }
        
        // 게임 변수들
        let currentQuestion = 0;
        let score = 0;
        let timer;
        let timeLeft = 20;
        let answered = false;

        // 추가 역사 사실
        const historyFacts = [
            "<strong>알고 계셨나요?</strong> 메소포타미아의 수메르인들은 60진법을 사용했는데, 이것이 오늘날 우리가 시간(60초, 60분)을 측정하는 방식의 기원입니다.",
            "<strong>알고 계셨나요?</strong> 알렉산더 대왕은 33세의 나이로 사망했지만, 그의 제국은 그리스에서 인도까지 이르렀습니다.",
            "<strong>알고 계셨나요?</strong> 중국 진나라의 시황제는 만리장성 건설을 명령한 것으로 유명하지만, 그의 무덤에는 8,000개 이상의 테라코타 전사가 있습니다.",
            "<strong>알고 계셨나요?</strong> 마야 문명은 초콜릿 음료를 신성한 것으로 여겼으며, 이를 '신들의 음식'이라고 불렀습니다.",
            "<strong>알고 계셨나요?</strong> 바이킹들은 북아메리카를 콜럼버스보다 약 500년 먼저 발견했으며, 이를 '빈란드'라고 불렀습니다."
        ];

        // 퀴즈 시작 함수
        function startQuiz() {
            // 모든 문제에서 랜덤하게 선택
            let selectedQuestions = [];
            
            // 전체 문제 수가 요청한 문제 수보다 많으면 랜덤 선택
            if (allQuizData.length > questionCount) {
                // 인덱스 배열 생성 (0부터 전체 문제 수-1까지)
                const indices = Array.from({ length: allQuizData.length }, (_, i) => i);
                
                // 인덱스 섞기 (Fisher-Yates 알고리즘)
                for (let i = indices.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [indices[i], indices[j]] = [indices[j], indices[i]];
                }
                
                // 필요한 만큼의 문제 선택
                for (let i = 0; i < questionCount; i++) {
                    selectedQuestions.push(allQuizData[indices[i]]);
                }
            } else {
                // 전체 문제 수가 요청한 문제 수보다 적으면 모든 문제 사용
                selectedQuestions = [...allQuizData];
                questionCount = selectedQuestions.length; // 문제 수 조정
            }
            
            // 전역 퀴즈 데이터 업데이트
            quizData = selectedQuestions;
            
            // 상태 초기화
            currentQuestion = 0;
            score = 0;
            
            // 화면 전환
            startScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            showQuestion();
        }

        // 문제 표시 함수
        function showQuestion() {
            resetState();
            
            // 현재 문제 데이터
            const currentQuizData = quizData[currentQuestion];
            
            // 진행 상황 업데이트
            questionCountElement.textContent = `문제 ${currentQuestion + 1}/${quizData.length}`;
            progressElement.style.width = `${((currentQuestion + 1) / quizData.length) * 100}%`;
            
            // 문제 표시
            questionElement.textContent = currentQuizData.question;
            
            // 선택지 생성
            currentQuizData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                
                optionElement.addEventListener('click', () => {
                    if (!answered) {
                        checkAnswer(index);
                    }
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // 타이머 시작
            startTimer();
        }

        // 타이머 시작 함수
        function startTimer() {
            timeLeft = 20;
            timerElement.textContent = `남은 시간: ${timeLeft}초`;
            
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = `남은 시간: ${timeLeft}초`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    if (!answered) {
                        const options = document.querySelectorAll('.option');
                        const correctIndex = quizData[currentQuestion].correct;
                        
                        options[correctIndex].classList.add('correct');
                        feedbackElement.textContent = "시간 초과! 정답을 확인하세요.";
                        explanationElement.textContent = quizData[currentQuestion].explanation;
                        explanationElement.style.display = 'block';
                        answered = true;
                        nextButton.style.display = 'block';
                    }
                }
            }, 1000);
        }

        // 답변 확인 함수
        function checkAnswer(selectedIndex) {
            clearInterval(timer);
            answered = true;
            
            const options = document.querySelectorAll('.option');
            const correctIndex = quizData[currentQuestion].correct;
            
            if (selectedIndex === correctIndex) {
                options[selectedIndex].classList.add('correct');
                feedbackElement.textContent = "정답입니다!";
                score++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[correctIndex].classList.add('correct');
                feedbackElement.textContent = "틀렸습니다!";
            }
            
            // 설명 표시
            explanationElement.textContent = quizData[currentQuestion].explanation;
            explanationElement.style.display = 'block';
            
            // 다음 버튼 표시
            nextButton.style.display = 'block';
        }

        // 결과 화면 표시 함수
        function showResults() {
            quizContainer.style.display = 'none';
            resultScreen.style.display = 'block';
            
            // 점수 표시
            scoreElement.textContent = `점수: ${score}/${quizData.length}`;
            
            // 결과 메시지와 메달 설정
            if (score >= Math.round(quizData.length * 0.9)) {
                medalElement.textContent = '🏆';
                resultMessageElement.textContent = "훌륭합니다! 당신은 세계사 전문가입니다!";
            } else if (score >= Math.round(quizData.length * 0.7)) {
                medalElement.textContent = '🥈';
                resultMessageElement.textContent = "잘했습니다! 세계사에 대한 지식이 풍부합니다!";
            } else if (score >= Math.round(quizData.length * 0.5)) {
                medalElement.textContent = '🥉';
                resultMessageElement.textContent = "좋습니다! 세계사의 기본 지식을 잘 알고 있습니다.";
            } else {
                medalElement.textContent = '📚';
                resultMessageElement.textContent = "조금 더 공부가 필요합니다. 다시 도전해보세요!";
            }
            
            // 랜덤한 역사 사실 표시
            const randomFact = historyFacts[Math.floor(Math.random() * historyFacts.length)];
            finalFactElement.innerHTML = randomFact;
        }

        // 상태 초기화 함수
        function resetState() {
            answered = false;
            nextButton.style.display = 'none';
            feedbackElement.textContent = '';
            explanationElement.style.display = 'none';
            
            // 선택지 컨테이너 비우기
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }
    </script>
</body>
</html>
